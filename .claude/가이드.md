# SNS 4ë‹¨ê³„ ê¶Œí•œ ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ì´ë“œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### êµ¬í˜„ ì™„ë£Œëœ ê¸°ëŠ¥
- **SNS ëª…ì¹­ ë³€ê²½**: "ìºë¦­í„° SNS ëª©ë¡" â†’ "ì•„ë¦¬ìˆ˜íƒ€ê·¸ë¨ ëª©ë¡"
- **ë³¸ê³„ì •/ë’·ê³„ì • ì‹œìŠ¤í…œ**: ë“€ì–¼ ê³„ì • ì‹œìŠ¤í…œê³¼ ë¶‰ì€ í…Œë§ˆ
- **4ë‹¨ê³„ ê¶Œí•œ ì‹œìŠ¤í…œ**: ì ì§„ì  ì½˜í…ì¸  ì ‘ê·¼ ì œì–´
- **ìµœë©´ ì˜µì…˜**: ê°•ì œ ê¶Œí•œìœ¼ë¡œ ëª¨ë“  ì½˜í…ì¸  ì™„ì „ ê°œë°©

## ğŸ”„ ë°±ì—… ë° ë³µì› ê°€ì´ë“œ

### í˜„ì¬ ë°±ì—… ìƒíƒœ
- âœ… ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ `sns_4tier_permission_system.patch` íŒŒì¼ì— ì €ì¥ë¨
- âœ… íŒŒì¼ í¬ê¸°: 101KB (ìƒë‹¹í•œ ì–‘ì˜ ë³€ê²½ì‚¬í•­ í¬í•¨)
- âœ… ë°±ì—… ì¼ì‹œ: 2025-08-24

### PR ë¨¸ì§€ í›„ ë³µì› ì ˆì°¨

#### 1. ë©”ì¸ ë¸Œëœì¹˜ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
```bash
git checkout main
git pull origin main
```

#### 2. ìƒˆ ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
```bash
git checkout -b feature/sns-4tier-permission-system
```

#### 3. ë°±ì—…ëœ ë³€ê²½ì‚¬í•­ ì ìš©
```bash
git apply sns_4tier_permission_system.patch
```

#### 4. ì¶©ëŒ í•´ê²° ë° ì»¤ë°‹
```bash
# ì¶©ëŒì´ ìˆë‹¤ë©´ ìˆ˜ë™ìœ¼ë¡œ í•´ê²° í›„:
git add .
git commit -m "feat: Implement SNS 4-tier permission system with hypnosis options

- Add 4-tier access control for SNS content
- Implement main/secret account switching with red theme
- Add hypnosis options for force access permissions
- Create progressive content unlocking based on affection levels"
```

#### 5. ìƒˆ PR ìƒì„±ì„ ìœ„í•´ í‘¸ì‹œ
```bash
git push origin feature/sns-4tier-permission-system
```

## ğŸ“ êµ¬í˜„ëœ ê¸°ëŠ¥ ìƒì„¸

### 1. SNS 4ë‹¨ê³„ ê¶Œí•œ ì‹œìŠ¤í…œ

#### ì ‘ê·¼ ê¶Œí•œ ë‹¨ê³„
1. **ë³¸ê³„ì • ì¼ë°˜**: ì–¸ì œë“  ì ‘ê·¼ ê°€ëŠ¥
2. **ë³¸ê³„ì • ë¹„ê³µê°œ**: í˜¸ê°ë„ ì¤‘ í•˜ë‚˜ë¼ë„ 70% ì´ìƒ
3. **ë’·ê³„ì • ì¼ë°˜**: ì‚¬ë‘ ë‹¨ê³„ ë„ë‹¬ (ëª¨ë“  í˜¸ê°ë„ ìµœëŒ€ì¹˜)
4. **ë’·ê³„ì • ë¹„ê³µê°œ**: ì‚¬ë‘ ë‹¨ê³„ + íŠ¹ë³„í•œ ì¡°ê±´ ë§Œì¡±

#### ê¶Œí•œ ì²´í¬ ë¡œì§
```javascript
// 4ë‹¨ê³„ ì ‘ê·¼ ê¶Œí•œ ì²´í¬ (ìµœë©´ ì˜µì…˜ìœ¼ë¡œ ì™„ì „ ê°œë°© ê°€ëŠ¥)
const hypnosisSNSAccess = hypnosis.enabled && hypnosis.sns_full_access;
const hypnosisSecretAccess = hypnosis.enabled && hypnosis.secret_account_access;

// ë³¸ê³„ì • ë¹„ê³µê°œ: í˜¸ê°ë„ ì¤‘ í•˜ë‚˜ë¼ë„ 70% ì´ìƒ OR ìµœë©´ SNS ì „ì²´ ì ‘ê·¼
const canAccessMainAccountPrivate = hypnosisSNSAccess || 
    affection >= 0.7 || intimacy >= 0.7 || trust >= 0.7 || romantic_interest >= 0.7;

// ë’·ê³„ì • ì¼ë°˜: ì‚¬ë‘ ë‹¨ê³„ ë„ë‹¬ OR ìµœë©´ ë’·ê³„ì • ì ‘ê·¼ (ì™„ì „ ê°œë°©)
const canAccessSecretAccount = hypnosisSecretAccess || is_love_unlocked || 
    (affection >= 1.0 && intimacy >= 1.0 && trust >= 1.0 && romantic_interest >= 1.0);

// ë’·ê³„ì • ë¹„ê³µê°œ: ìµœë©´ ë’·ê³„ì • ì ‘ê·¼ ì‹œ ì™„ì „ ê°œë°©, ì•„ë‹ˆë©´ ì‚¬ë‘ ë‹¨ê³„ + íŠ¹ë³„ ì¡°ê±´
const canAccessSecretAccountPrivate = hypnosisSecretAccess || 
    (canAccessSecretAccount && secret_content_access);
```

### 2. ìµœë©´ ì˜µì…˜ ì‹œìŠ¤í…œ

#### ì¶”ê°€ëœ ìµœë©´ ì˜µì…˜
```javascript
hypnosis: {
    enabled: false,
    affection: null,
    intimacy: null,
    trust: null,
    romantic_interest: null,
    force_love_unlock: false,
    sns_full_access: false,        // ğŸ“± SNS ì „ì²´ ì ‘ê·¼ ê¶Œí•œ
    secret_account_access: false   // ğŸ”¥ ë’·ê³„ì • ì ‘ê·¼ ê¶Œí•œ
}
```

#### UI ì»´í¬ë„ŒíŠ¸
- **ğŸ“± SNS ì „ì²´ ì ‘ê·¼ ê¶Œí•œ**: ë³¸ê³„ì • ë¹„ê³µê°œ ê²Œì‹œë¬¼ ì¦‰ì‹œ ì ‘ê·¼
- **ğŸ”¥ ë’·ê³„ì • ì ‘ê·¼ ê¶Œí•œ**: ë’·ê³„ì • ëª¨ë“  ì½˜í…ì¸  ì¦‰ì‹œ ì ‘ê·¼

### 3. ë“€ì–¼ ê³„ì • ì‹œìŠ¤í…œ

#### ë³¸ê³„ì • ëª¨ë“œ
- ê¸°ë³¸ íšŒìƒ‰ í…Œë§ˆ
- ì¼ë°˜/ë¹„ê³µê°œ íƒ­ êµ¬ë¶„
- í˜¸ê°ë„ ê¸°ë°˜ ì ì§„ì  ì ‘ê·¼

#### ë’·ê³„ì • ëª¨ë“œ
- ë¶‰ì€ í…Œë§ˆ (`bg-red-900/95`, `border-red-800`)
- ì• ë¡œí‹±í•œ ì‹œí¬ë¦¿ ì½˜í…ì¸ 
- ğŸ”’ ì•„ì´ì½˜ê³¼ "_secret" ì ‘ë¯¸ì‚¬
- ì‚¬ë‘ ë‹¨ê³„ ë˜ëŠ” ìµœë©´ ê¶Œí•œ í•„ìš”

#### ê³„ì • ì „í™˜ ë²„íŠ¼
```javascript
// SNS ê³„ì • ì „í™˜ ë²„íŠ¼ (ë³¸ê³„ì • <-> ë’·ê³„ì •)
if (e.target.closest('#sns-account-switch-btn')) {
    const currentMode = app.state.snsSecretMode || false;
    app.setState({ snsSecretMode: !currentMode });
    app.renderSNSFeed();
}
```

### 4. ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜

#### ê²Œì‹œë¬¼ ìƒì„± í•¨ìˆ˜ë“¤
- `generateSamplePosts()`: ë³¸ê³„ì • ì¼ë°˜ ê²Œì‹œë¬¼
- `generatePrivatePosts()`: ë³¸ê³„ì • ë¹„ê³µê°œ ê²Œì‹œë¬¼
- `generateEroticIntimatePrivatePosts()`: ë’·ê³„ì • ì¼ë°˜ ê²Œì‹œë¬¼
- `generateEroticSecretPosts()`: ë’·ê³„ì • ë¹„ê³µê°œ ê²Œì‹œë¬¼

#### ì ê¸ˆ í™”ë©´ í•¨ìˆ˜ë“¤
- `renderMainAccountPrivateLocked()`: ë³¸ê³„ì • ë¹„ê³µê°œ ì ê¸ˆ
- `renderSecretAccountLocked()`: ë’·ê³„ì • ì ê¸ˆ
- `renderSecretAccountPrivateLocked()`: ë’·ê³„ì • ë¹„ê³µê°œ ì ê¸ˆ

## ğŸ¨ UI/UX ê°œì„  ì‚¬í•­

### 1. ëª…ì¹­ ë³€ê²½
- "ìºë¦­í„° SNS ëª©ë¡" â†’ "ì•„ë¦¬ìˆ˜íƒ€ê·¸ë¨ ëª©ë¡"
- ë‹¨í†¡ë°©: `${groupChat.name} ì°¸ì—¬ì ì•„ë¦¬ìˆ˜íƒ€ê·¸ë¨`

### 2. í…Œë§ˆ ì‹œìŠ¤í…œ
- **ë³¸ê³„ì •**: íšŒìƒ‰ ê³„ì—´ í…Œë§ˆ
- **ë’·ê³„ì •**: ë¶‰ì€ ê³„ì—´ í…Œë§ˆ (`bg-red-900/95`, `text-red-300`)

### 3. ê¶Œí•œë³„ UI êµ¬ë¶„
- **ìµœë©´ ê¶Œí•œ**: âš¡ ë²ˆê°œ ì•„ì´ì½˜ + "ìµœë©´ ê¶Œí•œìœ¼ë¡œ ê°œë°©ëœ..." ë©”ì‹œì§€
- **ìì—° ì§„í–‰**: ğŸ‘¥ ê¸°ì¡´ ì•„ì´ì½˜ + "íŠ¹ë³„í•œ ê´€ê³„ì˜..." ë©”ì‹œì§€

### 4. ì§„í–‰ë¥  í‘œì‹œ
- 4ê°œ í˜¸ê°ë„ ìˆ˜ì¹˜ë³„ ì§„í–‰ë¥  ë°”
- ìƒ‰ìƒë³„ êµ¬ë¶„ (íŒŒë‘, í•‘í¬, ì´ˆë¡, ë³´ë¼)
- 70% ëª©í‘œì¹˜ í‘œì‹œ

## ğŸ“ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### ì‹ ê·œ íŒŒì¼
- `src/components/SNSCharacterList.js`
- `src/components/SNSFeed.js`
- `src/handlers/snsHandlers.js`

### ìˆ˜ì •ëœ íŒŒì¼
- `src/api/gemini.js`: characterState ë§¤ê°œë³€ìˆ˜ ì¶”ê°€
- `src/components/CharacterModal.js`: ìµœë©´ ì˜µì…˜ì— SNS ê¶Œí•œ ì¶”ê°€
- `src/handlers/groupChatHandlers.js`: í•¨ìˆ˜ëª… ìˆ˜ì •
- `src/index.js`: ìºë¦­í„° ìƒíƒœ ê´€ë¦¬ ê°œì„ 

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ì¶©ëŒ ê°€ëŠ¥ì„±
- ë©”ì¸ ë¸Œëœì¹˜ ë³€ê²½ì‚¬í•­ê³¼ ì¶©ëŒ ê°€ëŠ¥
- íŠ¹íˆ `CharacterModal.js`, `index.js` íŒŒì¼ì—ì„œ ì¶©ëŒ ì˜ˆìƒ

### í•´ê²° ë°©ë²•
1. `git apply`ë¡œ íŒ¨ì¹˜ ì ìš© ì‹œë„
2. ì¶©ëŒ ë°œìƒ ì‹œ ìˆ˜ë™ìœ¼ë¡œ ë³‘í•©
3. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í›„ ì»¤ë°‹

### í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] SNS ë²„íŠ¼ í´ë¦­ ì‹œ ì•„ë¦¬ìˆ˜íƒ€ê·¸ë¨ ëª©ë¡ í‘œì‹œ
- [ ] ë³¸ê³„ì •/ë’·ê³„ì • ì „í™˜ ë²„íŠ¼ ì‘ë™
- [ ] í˜¸ê°ë„ë³„ ì½˜í…ì¸  ì ‘ê·¼ ì œí•œ
- [ ] ìµœë©´ ì˜µì…˜ìœ¼ë¡œ ê°•ì œ ì ‘ê·¼ ê°€ëŠ¥
- [ ] ë’·ê³„ì • ë¶‰ì€ í…Œë§ˆ ì ìš©

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. ê¸°ì¡´ PR ë¨¸ì§€ ì™„ë£Œ ëŒ€ê¸°
2. ë©”ì¸ ë¸Œëœì¹˜ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
3. íŒ¨ì¹˜ íŒŒì¼ ì ìš© ë° ì¶©ëŒ í•´ê²°
4. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
5. ìƒˆë¡œìš´ PR ìƒì„± ë° ì œì¶œ

---

**ë°±ì—… íŒŒì¼**: `sns_4tier_permission_system.patch` (101KB)  
**ìƒì„± ì¼ì‹œ**: 2025-08-24  
**êµ¬í˜„ì**: Claude Code Assistant